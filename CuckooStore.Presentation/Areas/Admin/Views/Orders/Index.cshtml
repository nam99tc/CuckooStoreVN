@model PagedList.IPagedList<CuckooStore.Models.Order>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<h2>Danh Sách Đơn Hàng</h2>
<table class="table">
    <tr>
        <th>
            Tên người nhận
        </th>
        <th>
            Địa chỉ
        </th>
        <th>
            SĐT
        </th>
        <th>
            Ngày đặt
        </th>
        <th>
            Trạng thái
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {

    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.ToName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ToAddr)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ToPhone)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.OrderDate)
        </td>
        @if (item.Status == Status.ChoXacNhan)
        {
            <td style="color: green">
                Chờ xác nhận
            </td>
        }
        @if (item.Status == Status.DangGiao)
        {
            <td style="color: yellow">
                Đang giao
            </td>
        }
        @if (item.Status == Status.DaHuy)
        {
            <td style="color: red">
                Đã hủy
            </td>
        }
        @if (item.Status == Status.DaNhan)
        {
            <td>
                Đã nhận
            </td>
        }
        <td>
            <form action="@Url.Action("IndexDetails","Orders", new { id= item.OrderID })" method="post">
                <a href="@Url.Action("Edit","Orders", new { id=item.OrderID })" class="btn btn-primary">Sửa trạng thái</a>
                <button type="submit" class="btn btn-danger">Chi tiết</button>
            </form>
        </td>
    </tr>

    }

</table>
<p style="float:right">Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @Model.PageCount</p>
<br />
<hr />
<div class="store-filter clearfix" style="display:flex;justify-content:center">
    @Html.PagedListPager(Model, page => Url.Action("Index", "Orders", new { page }))
</div>